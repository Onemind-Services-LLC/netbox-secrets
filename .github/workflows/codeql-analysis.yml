name: "CodeQL"

on:
  push:
  pull_request:
  schedule:
    - cron: '24 4 * * 5'

# Add concurrency group to control job running
concurrency:
  group: codeql-${{ github.event_name }}-${{ github.ref }}-${{ github.actor }}
  cancel-in-progress: true

jobs:
  codeql:
    name: CodeQL
    strategy:
      fail-fast: false
      matrix:
        language: [ 'javascript-typescript', 'python' ]
    uses: Onemind-Services-LLC/actions/.github/workflows/codeql-analysis.yml@master
    with:
      app-id: ${{ vars.APP_ID }}
      languages: ${{ matrix.language }}
    secrets:
      private-key: ${{ secrets.APP_PRIVATE_KEY }}
